define(["jquery","eventsWithPromises","featureDetect","jqueryThrottleDebounce"],function(e,t,n){"use strict";function i(e){var n=r();(n!==u||e)&&(u=n,t.publish("mediaquery:resize",{newSize:n}))}function r(){return window.getComputedStyle(s[0],":after").getPropertyValue("content")}var u=!1,s=e('<div class="js-mediaquery-test" />');return{init:function(t){if(n.mediaQueries)if(t=t||e("body"),e(s).closest(t).length)i(!0);else{t.append(s);var r=e.debounce(250,i);window.addEventListener("resize",r,!1),i()}},atSmallViewport:function(){return e.inArray(r(),["mq-xs","mq-s"])>-1}}});